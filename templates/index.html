<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ì œí’ˆ ë¶„ì„ê¸°</title>
    <style>
        :root { --primary: #1a73e8; --bg: #f8f9fa; }
        body { font-family: 'Pretendard', sans-serif; background: var(--bg); padding: 20px; line-height: 1.6; }
        .container { max-width: 800px; margin: 40px auto; background: #fff; padding: 40px; border-radius: 24px; box-shadow: 0 10px 40px rgba(0,0,0,0.05); }
        .header { text-align: center; margin-bottom: 40px; }
        .header h1 { color: var(--primary); font-size: 26px; }
        .input-group { display: flex; gap: 10px; margin-bottom: 25px; }
        input { flex: 1; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 16px; outline: none; }
        button { padding: 0 30px; background: var(--primary); color: white; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; }
        #status { font-size: 14px; color: var(--primary); margin-bottom: 10px; font-weight: 500; }
        #result { background: #ffffff; border: 1px solid #eee; padding: 25px; border-radius: 15px; white-space: pre-wrap; font-size: 16px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ë¦¬ë·° ìˆ˜ì§‘ë¶€í„° AI ìš”ì•½ê¹Œì§€, í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”.</h1>
            <p>ì‹¤ì‹œê°„ ë¶„ì„ì„ í†µí•´ ì œí’ˆì˜ íŠ¹ì§•ê³¼ ì¥ë‹¨ì ì„ ì™„ë²½íˆ ì •ë¦¬í•´ ë“œë¦½ë‹ˆë‹¤.</p>
        </div>
        <div class="input-group">
            <input type="text" id="pName" placeholder="ë¶„ì„í•  ì œí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
            <button onclick="run()">ë¦¬í¬íŠ¸ ìƒì„±</button>
        </div>
        <div id="status"></div>
        <div id="result">ì œí’ˆëª…ì„ ì…ë ¥í•˜ë©´ AI ë¶„ì„ ë¦¬í¬íŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.</div>
    </div>
    <script>
        async function run() {
            const pName = document.getElementById('pName').value;
            const resultDiv = document.getElementById('result');
            const statusDiv = document.getElementById('status');
            if(!pName) return alert("ì œí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”.");

            statusDiv.innerText = "ğŸ” ì‹¤ì‹œê°„ ë¦¬ë·°ë¥¼ íƒìƒ‰í•˜ê³  ê²€ìˆ˜ ì¤‘...";
            resultDiv.innerText = "AIê°€ ë¦¬í¬íŠ¸ë¥¼ ì‘ì„± ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”...";

            const fd = new FormData();
            fd.append('user_input', pName);
            try {
                const res = await fetch('/chat', { method: 'POST', body: fd });
                const data = await res.json();
                statusDiv.innerText = "âœ… " + (data.data_info || "ì™„ë£Œ");
                resultDiv.innerText = data.answer || data.error;
            } catch(e) {
                resultDiv.innerText = "ì„œë²„ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.";
            }
        }
    </script>
</body>
</html>
