<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‡¼í•‘ ì‹¤íŒ¨ ë°©ì§€ê¸° ğŸ›¡ï¸</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #f0f2f5; margin: 0; padding: 20px; color: #333; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #1a73e8; margin-bottom: 10px; }
        .search-box { display: flex; gap: 10px; margin: 20px 0; }
        input { flex: 1; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; }
        button { padding: 15px 25px; background: #1a73e8; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; }
        
        /* ë¶„ì„ ê²°ê³¼ ë””ìì¸ */
        .score-section { text-align: center; padding: 30px; background: #f8f9fa; border-radius: 15px; margin-bottom: 25px; border: 1px solid #e9ecef; }
        .score-value { font-size: 4rem; font-weight: 900; color: #1a73e8; margin: 10px 0; }
        
        .summary-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
        .card { padding: 20px; border-radius: 15px; background: #fff; border: 1px solid #eee; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .card h3 { margin-top: 0; font-size: 1.1rem; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .pros { border-top: 5px solid #28a745; }
        .cons { border-top: 5px solid #dc3545; }
        
        .tag-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .tag { background: #e8f0fe; color: #1967d2; padding: 5px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; }
        
        ul { padding-left: 20px; font-size: 0.95rem; line-height: 1.6; }
        li { margin-bottom: 10px; color: #555; }
        .loading { text-align: center; font-weight: bold; color: #666; }
    </style>
</head>
<body>
    <div id="app" class="container">
        <h1>ì‡¼í•‘ ì‹¤íŒ¨ ë°©ì§€ê¸° ğŸ›¡ï¸</h1>
        <p style="text-align: center; color: #666;">ì „ ì„¸ê³„ ì»¤ë®¤ë‹ˆí‹°ì˜ ë‚ ê²ƒì˜ ë°˜ì‘ì„ ë¶„ì„í•©ë‹ˆë‹¤.</p>

        <div class="search-box">
            <input v-model="query" @keyup.enter="analyzeProduct" placeholder="ì œí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì—ì–´íŒŸ í”„ë¡œ 2, S23)">
            <button @click="analyzeProduct" :disabled="loading">{{ loading ? 'ë¶„ì„ ì¤‘...' : 'ë¶„ì„ ì‹œì‘' }}</button>
        </div>

        <div v-if="loading" class="loading">ğŸš€ ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ë¶„ì„í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>

        <div v-if="result">
            <div class="score-section">
                <h3>êµ¬ë§¤ ì¶”ì²œ ì‹ ë¢° ì ìˆ˜</h3>
                <div class="score-value">{{ result.score }}ì </div>
                <div class="tag-container" style="justify-content: center;">
                    <span v-for="f in result.summary.features" class="tag">#{{ f }}</span>
                </div>
            </div>

            <div class="summary-grid">
                <div class="card pros">
                    <h3>âœ… ê¸ì •ì  íŠ¹ì§•</h3>
                    <ul v-if="result.summary.pros.length">
                        <li v-for="p in result.summary.pros">{{ p }}</li>
                    </ul>
                    <p v-else>ì–¸ê¸‰ëœ ëª…í™•í•œ ì¥ì ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                </div>
                <div class="card cons">
                    <h3>âš ï¸ ì‹¤ì‚¬ìš©ì ë¶ˆë§Œ</h3>
                    <ul v-if="result.summary.cons.length">
                        <li v-for="c in result.summary.cons">{{ c }}</li>
                    </ul>
                    <p v-else>ëšœë ·í•œ ë¶ˆë§Œ ì‚¬í•­ì´ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
                </div>
            </div>

            <div class="card">
                <h3>ğŸ” ì‹¤ì‹œê°„ ë¶„ì„ ì†ŒìŠ¤ (Raw Data)</h3>
                <ul>
                    <li v-for="(r, i) in result.reviews" :key="i">{{ r }}</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                query: '',
                loading: false,
                result: null
            },
            methods: {
                async analyzeProduct() {
                    if (!this.query) return alert('ì œí’ˆëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                    this.loading = true;
                    this.result = null;
                    try {
                        const response = await axios.get(`/analyze?q=${encodeURIComponent(this.query)}`);
                        this.result = response.data;
                    } catch (error) {
                        alert('ë°ì´í„° ìˆ˜ì§‘ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                    } finally {
                        this.loading = false;
                    }
                }
            }
        });
    </script>
</body>
</html>
